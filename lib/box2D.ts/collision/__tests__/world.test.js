import { b2BodyDef, b2CircleShape, b2ContactListener, b2Vec2, b2World, } from '../..';
let begin_contact = false;
class MyContactListener extends b2ContactListener {
    BeginContact(contact) {
        begin_contact = true;
    }
}
test('begin contact', () => {
    const world = new b2World(new b2Vec2());
    world.SetContactListener(new MyContactListener());
    const circle = new b2CircleShape();
    circle.m_radius = 5;
    const bodyDef = new b2BodyDef();
    bodyDef.type = 2 /* b2_dynamicBody */;
    const bodyA = world.CreateBody(bodyDef);
    const bodyB = world.CreateBody(bodyDef);
    bodyA.CreateFixture(circle, 0.0);
    bodyB.CreateFixture(circle, 0.0);
    bodyA.SetTransformXY(0, 0, 0);
    bodyB.SetTransformXY(100, 0, 0);
    const timeStep = 1.0 / 60.0;
    const velocityIterations = 6;
    const positionIterations = 2;
    world.Step(timeStep, velocityIterations, positionIterations);
    expect(world.GetContactList()).toBeNull();
    expect(begin_contact).toBe(false);
    bodyB.SetTransformXY(1, 0, 0);
    world.Step(timeStep, velocityIterations, positionIterations);
    expect(world.GetContactList()).not.toBeNull();
    expect(begin_contact).toBe(true);
});
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoid29ybGQudGVzdC5qcyIsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzIjpbIi4uLy4uLy4uLy4uL3NyYy9jb2xsaXNpb24vX190ZXN0c19fL3dvcmxkLnRlc3QudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUEsT0FBTyxFQUNMLFNBQVMsRUFFVCxhQUFhLEVBRWIsaUJBQWlCLEVBQ2pCLE1BQU0sRUFDTixPQUFPLEdBQ1IsTUFBTSxPQUFPLENBQUM7QUFFZixJQUFJLGFBQWEsR0FBRyxLQUFLLENBQUM7QUFFMUIsTUFBTSxpQkFBa0IsU0FBUSxpQkFBaUI7SUFDL0MsWUFBWSxDQUFDLE9BQWtCO1FBQzdCLGFBQWEsR0FBRyxJQUFJLENBQUM7SUFDdkIsQ0FBQztDQUNGO0FBRUQsSUFBSSxDQUFDLGVBQWUsRUFBRSxHQUFHLEVBQUU7SUFDekIsTUFBTSxLQUFLLEdBQUcsSUFBSSxPQUFPLENBQUMsSUFBSSxNQUFNLEVBQUUsQ0FBQyxDQUFDO0lBQ3hDLEtBQUssQ0FBQyxrQkFBa0IsQ0FBQyxJQUFJLGlCQUFpQixFQUFFLENBQUMsQ0FBQztJQUVsRCxNQUFNLE1BQU0sR0FBRyxJQUFJLGFBQWEsRUFBRSxDQUFDO0lBQ25DLE1BQU0sQ0FBQyxRQUFRLEdBQUcsQ0FBQyxDQUFDO0lBRXBCLE1BQU0sT0FBTyxHQUFHLElBQUksU0FBUyxFQUFFLENBQUM7SUFDaEMsT0FBTyxDQUFDLElBQUkseUJBQTRCLENBQUM7SUFFekMsTUFBTSxLQUFLLEdBQUcsS0FBSyxDQUFDLFVBQVUsQ0FBQyxPQUFPLENBQUMsQ0FBQztJQUN4QyxNQUFNLEtBQUssR0FBRyxLQUFLLENBQUMsVUFBVSxDQUFDLE9BQU8sQ0FBQyxDQUFDO0lBQ3hDLEtBQUssQ0FBQyxhQUFhLENBQUMsTUFBTSxFQUFFLEdBQUcsQ0FBQyxDQUFDO0lBQ2pDLEtBQUssQ0FBQyxhQUFhLENBQUMsTUFBTSxFQUFFLEdBQUcsQ0FBQyxDQUFDO0lBRWpDLEtBQUssQ0FBQyxjQUFjLENBQUMsQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDLENBQUMsQ0FBQztJQUM5QixLQUFLLENBQUMsY0FBYyxDQUFDLEdBQUcsRUFBRSxDQUFDLEVBQUUsQ0FBQyxDQUFDLENBQUM7SUFFaEMsTUFBTSxRQUFRLEdBQUcsR0FBRyxHQUFHLElBQUksQ0FBQztJQUM1QixNQUFNLGtCQUFrQixHQUFHLENBQUMsQ0FBQztJQUM3QixNQUFNLGtCQUFrQixHQUFHLENBQUMsQ0FBQztJQUU3QixLQUFLLENBQUMsSUFBSSxDQUFDLFFBQVEsRUFBRSxrQkFBa0IsRUFBRSxrQkFBa0IsQ0FBQyxDQUFDO0lBRTdELE1BQU0sQ0FBQyxLQUFLLENBQUMsY0FBYyxFQUFFLENBQUMsQ0FBQyxRQUFRLEVBQUUsQ0FBQztJQUMxQyxNQUFNLENBQUMsYUFBYSxDQUFDLENBQUMsSUFBSSxDQUFDLEtBQUssQ0FBQyxDQUFDO0lBRWxDLEtBQUssQ0FBQyxjQUFjLENBQUMsQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDLENBQUMsQ0FBQztJQUU5QixLQUFLLENBQUMsSUFBSSxDQUFDLFFBQVEsRUFBRSxrQkFBa0IsRUFBRSxrQkFBa0IsQ0FBQyxDQUFDO0lBRTdELE1BQU0sQ0FBQyxLQUFLLENBQUMsY0FBYyxFQUFFLENBQUMsQ0FBQyxHQUFHLENBQUMsUUFBUSxFQUFFLENBQUM7SUFDOUMsTUFBTSxDQUFDLGFBQWEsQ0FBQyxDQUFDLElBQUksQ0FBQyxJQUFJLENBQUMsQ0FBQztBQUNuQyxDQUFDLENBQUMsQ0FBQyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7XHJcbiAgYjJCb2R5RGVmLFxyXG4gIGIyQm9keVR5cGUsXHJcbiAgYjJDaXJjbGVTaGFwZSxcclxuICBiMkNvbnRhY3QsXHJcbiAgYjJDb250YWN0TGlzdGVuZXIsXHJcbiAgYjJWZWMyLFxyXG4gIGIyV29ybGQsXHJcbn0gZnJvbSAnLi4vLi4nO1xyXG5cclxubGV0IGJlZ2luX2NvbnRhY3QgPSBmYWxzZTtcclxuXHJcbmNsYXNzIE15Q29udGFjdExpc3RlbmVyIGV4dGVuZHMgYjJDb250YWN0TGlzdGVuZXIge1xyXG4gIEJlZ2luQ29udGFjdChjb250YWN0OiBiMkNvbnRhY3QpIHtcclxuICAgIGJlZ2luX2NvbnRhY3QgPSB0cnVlO1xyXG4gIH1cclxufVxyXG5cclxudGVzdCgnYmVnaW4gY29udGFjdCcsICgpID0+IHtcclxuICBjb25zdCB3b3JsZCA9IG5ldyBiMldvcmxkKG5ldyBiMlZlYzIoKSk7XHJcbiAgd29ybGQuU2V0Q29udGFjdExpc3RlbmVyKG5ldyBNeUNvbnRhY3RMaXN0ZW5lcigpKTtcclxuXHJcbiAgY29uc3QgY2lyY2xlID0gbmV3IGIyQ2lyY2xlU2hhcGUoKTtcclxuICBjaXJjbGUubV9yYWRpdXMgPSA1O1xyXG5cclxuICBjb25zdCBib2R5RGVmID0gbmV3IGIyQm9keURlZigpO1xyXG4gIGJvZHlEZWYudHlwZSA9IGIyQm9keVR5cGUuYjJfZHluYW1pY0JvZHk7XHJcblxyXG4gIGNvbnN0IGJvZHlBID0gd29ybGQuQ3JlYXRlQm9keShib2R5RGVmKTtcclxuICBjb25zdCBib2R5QiA9IHdvcmxkLkNyZWF0ZUJvZHkoYm9keURlZik7XHJcbiAgYm9keUEuQ3JlYXRlRml4dHVyZShjaXJjbGUsIDAuMCk7XHJcbiAgYm9keUIuQ3JlYXRlRml4dHVyZShjaXJjbGUsIDAuMCk7XHJcblxyXG4gIGJvZHlBLlNldFRyYW5zZm9ybVhZKDAsIDAsIDApO1xyXG4gIGJvZHlCLlNldFRyYW5zZm9ybVhZKDEwMCwgMCwgMCk7XHJcblxyXG4gIGNvbnN0IHRpbWVTdGVwID0gMS4wIC8gNjAuMDtcclxuICBjb25zdCB2ZWxvY2l0eUl0ZXJhdGlvbnMgPSA2O1xyXG4gIGNvbnN0IHBvc2l0aW9uSXRlcmF0aW9ucyA9IDI7XHJcblxyXG4gIHdvcmxkLlN0ZXAodGltZVN0ZXAsIHZlbG9jaXR5SXRlcmF0aW9ucywgcG9zaXRpb25JdGVyYXRpb25zKTtcclxuXHJcbiAgZXhwZWN0KHdvcmxkLkdldENvbnRhY3RMaXN0KCkpLnRvQmVOdWxsKCk7XHJcbiAgZXhwZWN0KGJlZ2luX2NvbnRhY3QpLnRvQmUoZmFsc2UpO1xyXG5cclxuICBib2R5Qi5TZXRUcmFuc2Zvcm1YWSgxLCAwLCAwKTtcclxuXHJcbiAgd29ybGQuU3RlcCh0aW1lU3RlcCwgdmVsb2NpdHlJdGVyYXRpb25zLCBwb3NpdGlvbkl0ZXJhdGlvbnMpO1xyXG5cclxuICBleHBlY3Qod29ybGQuR2V0Q29udGFjdExpc3QoKSkubm90LnRvQmVOdWxsKCk7XHJcbiAgZXhwZWN0KGJlZ2luX2NvbnRhY3QpLnRvQmUodHJ1ZSk7XHJcbn0pO1xyXG4iXX0=